1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±
é …ç›®	å†…å®¹
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID	polar-fulcrum-358119
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒªãƒ¼ã‚¸ãƒ§ãƒ³	Cloud Run / Cloud Scheduler ã§ä½¿ç”¨ã™ã‚‹å ´åˆã«å¿…è¦ï¼ˆä¾‹: asia-northeast1ï¼‰
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¾ãƒ¼ãƒ³	VM ã‚„ Compute Engine ä½¿ç”¨æ™‚ã«å¿…è¦
2. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
é …ç›®	å†…å®¹
ä½¿ç”¨ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ	polar-fulcrum-358119@appspot.gserviceaccount.com
IAM æ¨©é™	- roles/storage.objectAdminï¼ˆCloud Storage æ“ä½œç”¨ï¼‰
- roles/editorï¼ˆãã®ä»–åŸºæœ¬æ“ä½œï¼‰
ãƒ¡ãƒ¢	ä»Šå¾Œè¿½åŠ ã§ Cloud Run ç”¨ã«ã‚«ã‚¹ã‚¿ãƒ ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã‚‹å ´åˆã¯åå‰ã¨æ¨©é™ã‚’è¨˜éŒ²
3. Cloud Storage
é …ç›®	å†…å®¹
ãƒã‚±ãƒƒãƒˆå	ãƒ‡ãƒ¼ã‚¿æ ¼ç´å…ˆã®ãƒã‚±ãƒƒãƒˆåã‚’è¨˜éŒ²
ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™	ä¸Šè¨˜ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ“ä½œå¯èƒ½ã‹ç¢ºèªæ¸ˆã¿
ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ	CSV ãƒ•ã‚¡ã‚¤ãƒ«ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ãªã©ã®æ•´ç†
4. Cloud Run / Docker
é …ç›®	å†…å®¹
ã‚µãƒ¼ãƒ“ã‚¹å	Cloud Run ã‚µãƒ¼ãƒ“ã‚¹åã‚’è¨˜éŒ²
ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸	Artifact Registry ã« push ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ‘ã‚¹
asia-northeast1-docker.pkg.dev/<PROJECT_ID>/<REPO>/<IMAGE>:<TAG>
CPU/ãƒ¡ãƒ¢ãƒª	å®šæœŸå®Ÿè¡Œã«å¿…è¦ãªãƒªã‚½ãƒ¼ã‚¹ï¼ˆä¾‹: 1 CPU, 512MB ãƒ¡ãƒ¢ãƒªï¼‰
ç’°å¢ƒå¤‰æ•°	ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§å‚ç…§ã™ã‚‹å¤‰æ•°ï¼ˆä¾‹: PROJECT_ID, BUCKET_NAMEï¼‰
5. Cloud Scheduler
é …ç›®	å†…å®¹
ã‚¸ãƒ§ãƒ–å	è¨˜éŒ²ã—ã¦ãŠãã¨å†è¨­å®šã‚„ç·¨é›†ãŒç°¡å˜
å®Ÿè¡Œé–“éš”	ä¾‹: every 30 minutes
å¯¾è±¡	Cloud Run ã‚µãƒ¼ãƒ“ã‚¹ URLï¼ˆHTTP ãƒˆãƒªã‚¬ãƒ¼ï¼‰
èªè¨¼æ–¹æ³•	ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆçµŒç”±ã§å‘¼ã³å‡ºã™å ´åˆã¯å¯¾è±¡ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æŒ‡å®š
6. ã‚¹ã‚¯ãƒªãƒ—ãƒˆæƒ…å ±
é …ç›®	å†…å®¹
Python ã‚¹ã‚¯ãƒªãƒ—ãƒˆå	ä¾‹: process_csv.py
ãƒ©ã‚¤ãƒ–ãƒ©ãƒª	pandas, playwright ãªã©
venv/ä¾å­˜	Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã«å«ã‚ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¸€è¦§
CSV å…¥åŠ› / å‡ºåŠ›	csv1.csv â†’ csv2.csv ã®ãƒ•ãƒ­ãƒ¼ã€åˆ—ãƒ»è¡Œã®æ‰±ã„ã®ãƒ«ãƒ¼ãƒ«
7. ãƒ­ã‚°ãƒ»ãƒ‡ãƒãƒƒã‚°
é …ç›®	å†…å®¹
Cloud Run ãƒ­ã‚°	gcloud logs read ã§ç¢ºèªå¯èƒ½
Cloud Scheduler ãƒ­ã‚°	å®Ÿè¡Œçµæœã€HTTP ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç¢ºèª
ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆç”¨	python process_csv.py ã§å‹•ä½œç¢ºèªã€Docker ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã®å®Ÿè¡Œç¢ºèª

ğŸ’¡ ãƒ¡ãƒ¢ã®ãƒã‚¤ãƒ³ãƒˆ

ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚„ã‚¤ãƒ¡ãƒ¼ã‚¸åã€ãƒã‚±ãƒƒãƒˆåãªã©ã¯ä¸€è²«ã—ã¦è¨˜éŒ²ã—ã¦ãŠã

Cloud Scheduler ã¨ Cloud Run ã‚’ç´ã¥ã‘ã‚‹éš›ã¯ã€ã‚¸ãƒ§ãƒ–åã¨ã‚µãƒ¼ãƒ“ã‚¹ URL ã‚’å¿˜ã‚Œãªã„

å®šæœŸå®Ÿè¡Œå‰ã«ãƒ­ãƒ¼ã‚«ãƒ«ã§ Docker ã‚³ãƒ³ãƒ†ãƒŠã‚’å‹•ã‹ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¦ãŠãã¨å®‰å…¨

å¿…è¦ã§ã‚ã‚Œã°ã€ã“ã‚Œã‚’ 1æšã®ãƒ¡ãƒ¢è¡¨ ã«ã¾ã¨ã‚ã¦å¾Œæ—¥ã™ãè¦‹ã‚‰ã‚Œã‚‹å½¢ã«ã‚‚ä½œã‚Œã¾ã™ã€‚
ä½œã£ã¦ãŠãã¾ã™ã‹ï¼Ÿ

Microsoft Windows [Version 10.0.19045.6216]
(c) Microsoft Corporation. All rights reserved.

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud artifacts repositories delete REPO_NAME --location=asia-northeast1 --quiet
ERROR: (gcloud.artifacts.repositories.delete) NOT_FOUND: Requested entity was not found. This command is authenticated as namaikicinq@gmail.com which is the active account specified by the [core/account] property.

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud config set project polar-fulcrum-358119
Updated property [core/project].


Updates are available for some Google Cloud CLI components.  To install them,
please run:
  $ gcloud components update


C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud components update
Beginning update. This process may take several minutes.

Restarting command:
  $ gcloud components update


C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud components update
Beginning update. This process may take several minutes.

All components are up to date.

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud config set project polar-fulcrum-358119
Updated property [core/project].

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud services enable run.googleapis.com artifactregistry.googleapis.com pubsub.googleapis.com cloudscheduler.googleapis.com
Operation "operations/acat.p2-556105548619-b0a9897d-9951-4299-a980-ef192814a2a8" finished successfully.

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud artifacts repositories create my-docker-repo --repository-format=docker --location=asia-northeast1 --description="Docker repo for Cloud Run service"
Create request issued for: [my-docker-repo]
Waiting for operation [projects/polar-fulcrum-358119/locations/asia-northeast1/operations/41cf676f-cdf9-47de-bbcf-65e9b
5082048] to complete...done.
Created repository [my-docker-repo].

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud builds submit --tag asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service
Creating temporary archive of 3 file(s) totalling 3.8 KiB before compression.
Uploading tarball of [.] to [gs://polar-fulcrum-358119_cloudbuild/source/1755625648.142426-9c0d0fe0bc234ee7bd98e069d3befd72.tgz]
Created [https://cloudbuild.googleapis.com/v1/projects/polar-fulcrum-358119/locations/global/builds/ae5626c4-a4cc-42d0-8d1c-ee8e8b7ec933].
Logs are available at [ https://console.cloud.google.com/cloud-build/builds/ae5626c4-a4cc-42d0-8d1c-ee8e8b7ec933?project=556105548619 ].
Waiting for build to complete. Polling interval: 1 second(s).
------------------------------------------------- REMOTE BUILD OUTPUT --------------------------------------------------starting build "ae5626c4-a4cc-42d0-8d1c-ee8e8b7ec933"

FETCHSOURCE
Fetching storage object: gs://polar-fulcrum-358119_cloudbuild/source/1755625648.142426-9c0d0fe0bc234ee7bd98e069d3befd72.tgz#1755625649491450
Copying gs://polar-fulcrum-358119_cloudbuild/source/1755625648.142426-9c0d0fe0bc234ee7bd98e069d3befd72.tgz#1755625649491450...
/ [1 files][  1.8 KiB/  1.8 KiB]
Operation completed over 1 objects/1.8 KiB.
BUILD
Already have image (with digest): gcr.io/cloud-builders/docker
Sending build context to Docker daemon  7.168kB
Step 1/7 : FROM mcr.microsoft.com/playwright/python:v1.48.0-jammy
v1.48.0-jammy: Pulling from playwright/python
7478e0ac0f23: Pulling fs layer
c148946d8475: Pulling fs layer
95e2718619a9: Pulling fs layer
bab4df8c200f: Pulling fs layer
bab4df8c200f: Waiting
7478e0ac0f23: Verifying Checksum
7478e0ac0f23: Download complete
c148946d8475: Verifying Checksum
c148946d8475: Download complete
95e2718619a9: Verifying Checksum
95e2718619a9: Download complete
7478e0ac0f23: Pull complete
c148946d8475: Pull complete
95e2718619a9: Pull complete
bab4df8c200f: Verifying Checksum
bab4df8c200f: Download complete
bab4df8c200f: Pull complete
Digest: sha256:6bbd515848db4042068571135979b6ee6d330a794b28e037e3a6ccd7f2abfa26
Status: Downloaded newer image for mcr.microsoft.com/playwright/python:v1.48.0-jammy
 ---> db0a68342e4c
Step 2/7 : WORKDIR /app
 ---> Running in ff27a2eee647
Removing intermediate container ff27a2eee647
 ---> c3cf27a11f37
Step 3/7 : COPY requirements.txt .
 ---> 79ea0179968e
Step 4/7 : RUN pip install --no-cache-dir -r requirements.txt
 ---> Running in 28f5f881c063
Collecting flask (from -r requirements.txt (line 1))
  Downloading flask-3.1.1-py3-none-any.whl.metadata (3.0 kB)
Collecting google-cloud-storage (from -r requirements.txt (line 2))
  Downloading google_cloud_storage-3.3.0-py3-none-any.whl.metadata (13 kB)
Collecting pandas (from -r requirements.txt (line 3))
  Downloading pandas-2.3.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (91 kB)
Collecting blinker>=1.9.0 (from flask->-r requirements.txt (line 1))
  Downloading blinker-1.9.0-py3-none-any.whl.metadata (1.6 kB)
Collecting click>=8.1.3 (from flask->-r requirements.txt (line 1))
  Downloading click-8.2.1-py3-none-any.whl.metadata (2.5 kB)
Collecting itsdangerous>=2.2.0 (from flask->-r requirements.txt (line 1))
  Downloading itsdangerous-2.2.0-py3-none-any.whl.metadata (1.9 kB)
Collecting jinja2>=3.1.2 (from flask->-r requirements.txt (line 1))
  Downloading jinja2-3.1.6-py3-none-any.whl.metadata (2.9 kB)
Collecting markupsafe>=2.1.1 (from flask->-r requirements.txt (line 1))
  Downloading MarkupSafe-3.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.0 kB)
Collecting werkzeug>=3.1.0 (from flask->-r requirements.txt (line 1))
  Downloading werkzeug-3.1.3-py3-none-any.whl.metadata (3.7 kB)
Collecting google-auth<3.0.0,>=2.26.1 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_auth-2.40.3-py2.py3-none-any.whl.metadata (6.2 kB)
Collecting google-api-core<3.0.0,>=2.15.0 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_api_core-2.25.1-py3-none-any.whl.metadata (3.0 kB)
Collecting google-cloud-core<3.0.0,>=2.4.2 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_cloud_core-2.4.3-py2.py3-none-any.whl.metadata (2.7 kB)
Collecting google-resumable-media<3.0.0,>=2.7.2 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_resumable_media-2.7.2-py2.py3-none-any.whl.metadata (2.2 kB)
Collecting requests<3.0.0,>=2.22.0 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading requests-2.32.5-py3-none-any.whl.metadata (4.9 kB)
Collecting google-crc32c<2.0.0,>=1.1.3 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_crc32c-1.7.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.3 kB)
Collecting numpy>=1.22.4 (from pandas->-r requirements.txt (line 3))
  Downloading numpy-2.2.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (62 kB)
Collecting python-dateutil>=2.8.2 (from pandas->-r requirements.txt (line 3))
  Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
Collecting pytz>=2020.1 (from pandas->-r requirements.txt (line 3))
  Downloading pytz-2025.2-py2.py3-none-any.whl.metadata (22 kB)
Collecting tzdata>=2022.7 (from pandas->-r requirements.txt (line 3))
  Downloading tzdata-2025.2-py2.py3-none-any.whl.metadata (1.4 kB)
Collecting googleapis-common-protos<2.0.0,>=1.56.2 (from google-api-core<3.0.0,>=2.15.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading googleapis_common_protos-1.70.0-py3-none-any.whl.metadata (9.3 kB)
Collecting protobuf!=3.20.0,!=3.20.1,!=4.21.0,!=4.21.1,!=4.21.2,!=4.21.3,!=4.21.4,!=4.21.5,<7.0.0,>=3.19.5 (from google-api-core<3.0.0,>=2.15.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading protobuf-6.32.0-cp39-abi3-manylinux2014_x86_64.whl.metadata (593 bytes)
Collecting proto-plus<2.0.0,>=1.22.3 (from google-api-core<3.0.0,>=2.15.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading proto_plus-1.26.1-py3-none-any.whl.metadata (2.2 kB)
Collecting cachetools<6.0,>=2.0.0 (from google-auth<3.0.0,>=2.26.1->google-cloud-storage->-r requirements.txt (line 2))
  Downloading cachetools-5.5.2-py3-none-any.whl.metadata (5.4 kB)
Collecting pyasn1-modules>=0.2.1 (from google-auth<3.0.0,>=2.26.1->google-cloud-storage->-r requirements.txt (line 2))
  Downloading pyasn1_modules-0.4.2-py3-none-any.whl.metadata (3.5 kB)
Collecting rsa<5,>=3.1.4 (from google-auth<3.0.0,>=2.26.1->google-cloud-storage->-r requirements.txt (line 2))
  Downloading rsa-4.9.1-py3-none-any.whl.metadata (5.6 kB)
Collecting six>=1.5 (from python-dateutil>=2.8.2->pandas->-r requirements.txt (line 3))
  Downloading six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
Collecting charset_normalizer<4,>=2 (from requests<3.0.0,>=2.22.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading charset_normalizer-3.4.3-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (36 kB)
Collecting idna<4,>=2.5 (from requests<3.0.0,>=2.22.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading idna-3.10-py3-none-any.whl.metadata (10 kB)
Collecting urllib3<3,>=1.21.1 (from requests<3.0.0,>=2.22.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
Collecting certifi>=2017.4.17 (from requests<3.0.0,>=2.22.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading certifi-2025.8.3-py3-none-any.whl.metadata (2.4 kB)
Collecting pyasn1<0.7.0,>=0.6.1 (from pyasn1-modules>=0.2.1->google-auth<3.0.0,>=2.26.1->google-cloud-storage->-r requirements.txt (line 2))
  Downloading pyasn1-0.6.1-py3-none-any.whl.metadata (8.4 kB)
Downloading flask-3.1.1-py3-none-any.whl (103 kB)
Downloading google_cloud_storage-3.3.0-py3-none-any.whl (274 kB)
Downloading pandas-2.3.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 12.3/12.3 MB 197.2 MB/s eta 0:00:00
Downloading blinker-1.9.0-py3-none-any.whl (8.5 kB)
Downloading click-8.2.1-py3-none-any.whl (102 kB)
Downloading google_api_core-2.25.1-py3-none-any.whl (160 kB)
Downloading google_auth-2.40.3-py2.py3-none-any.whl (216 kB)
Downloading google_cloud_core-2.4.3-py2.py3-none-any.whl (29 kB)
Downloading google_crc32c-1.7.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (38 kB)
Downloading google_resumable_media-2.7.2-py2.py3-none-any.whl (81 kB)
Downloading itsdangerous-2.2.0-py3-none-any.whl (16 kB)
Downloading jinja2-3.1.6-py3-none-any.whl (134 kB)
Downloading MarkupSafe-3.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (20 kB)
Downloading numpy-2.2.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (16.8 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 16.8/16.8 MB 210.2 MB/s eta 0:00:00
Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
Downloading pytz-2025.2-py2.py3-none-any.whl (509 kB)
Downloading requests-2.32.5-py3-none-any.whl (64 kB)
Downloading tzdata-2025.2-py2.py3-none-any.whl (347 kB)
Downloading werkzeug-3.1.3-py3-none-any.whl (224 kB)
Downloading cachetools-5.5.2-py3-none-any.whl (10 kB)
Downloading certifi-2025.8.3-py3-none-any.whl (161 kB)
Downloading charset_normalizer-3.4.3-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (152 kB)
Downloading googleapis_common_protos-1.70.0-py3-none-any.whl (294 kB)
Downloading idna-3.10-py3-none-any.whl (70 kB)
Downloading proto_plus-1.26.1-py3-none-any.whl (50 kB)
Downloading protobuf-6.32.0-cp39-abi3-manylinux2014_x86_64.whl (322 kB)
Downloading pyasn1_modules-0.4.2-py3-none-any.whl (181 kB)
Downloading rsa-4.9.1-py3-none-any.whl (34 kB)
Downloading six-1.17.0-py2.py3-none-any.whl (11 kB)
Downloading urllib3-2.5.0-py3-none-any.whl (129 kB)
Downloading pyasn1-0.6.1-py3-none-any.whl (83 kB)
Installing collected packages: pytz, urllib3, tzdata, six, pyasn1, protobuf, numpy, markupsafe, itsdangerous, idna, google-crc32c, click, charset_normalizer, certifi, cachetools, blinker, werkzeug, rsa, requests, python-dateutil, pyasn1-modules, proto-plus, jinja2, googleapis-common-protos, google-resumable-media, pandas, google-auth, flask, google-api-core, google-cloud-core, google-cloud-storage
Successfully installed blinker-1.9.0 cachetools-5.5.2 certifi-2025.8.3 charset_normalizer-3.4.3 click-8.2.1 flask-3.1.1 google-api-core-2.25.1 google-auth-2.40.3 google-cloud-core-2.4.3 google-cloud-storage-3.3.0 google-crc32c-1.7.1 google-resumable-media-2.7.2 googleapis-common-protos-1.70.0 idna-3.10 itsdangerous-2.2.0 jinja2-3.1.6 markupsafe-3.0.2 numpy-2.2.6 pandas-2.3.1 proto-plus-1.26.1 protobuf-6.32.0 pyasn1-0.6.1 pyasn1-modules-0.4.2 python-dateutil-2.9.0.post0 pytz-2025.2 requests-2.32.5 rsa-4.9.1 six-1.17.0 tzdata-2025.2 urllib3-2.5.0 werkzeug-3.1.3
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 24.2 -> 25.2
[notice] To update, run: python -m pip install --upgrade pip
Removing intermediate container 28f5f881c063
 ---> 8fcb95b2f0ac
Step 5/7 : COPY . .
 ---> 3141a26a1f0e
Step 6/7 : ENV PORT 8080
 ---> Running in 1704f3d3cfa9
Removing intermediate container 1704f3d3cfa9
 ---> 09994338eb70
Step 7/7 : CMD ["python", "getDevAndPop.py"]
 ---> Running in fb4251747412
Removing intermediate container fb4251747412
 ---> 23391748ed8b
Successfully built 23391748ed8b
Successfully tagged asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service:latest
PUSH
Pushing asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service
The push refers to repository [asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service]
fc5c980ed657: Preparing
4711a36b6e48: Preparing
63a33f3d94c9: Preparing
38e54616b33d: Preparing
30e0de998e9a: Preparing
f1c1c5b75325: Preparing
b97cc8a023b9: Preparing
2573e0d81582: Preparing
f1c1c5b75325: Waiting
b97cc8a023b9: Waiting
2573e0d81582: Waiting
38e54616b33d: Pushed
fc5c980ed657: Pushed
63a33f3d94c9: Pushed
f1c1c5b75325: Pushed
b97cc8a023b9: Pushed
4711a36b6e48: Pushed
2573e0d81582: Pushed
30e0de998e9a: Pushed
latest: digest: sha256:a229e703ec4ed7691adf8978c626ff9e9d71a5fb20624badae2b6185d14604f4 size: 2000
DONE
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ID                                    CREATE_TIME                DURATION  SOURCE                                                                                              IMAGES                                                                                   STATUS
ae5626c4-a4cc-42d0-8d1c-ee8e8b7ec933  2025-08-19T17:47:30+00:00  3M1S      gs://polar-fulcrum-358119_cloudbuild/source/1755625648.142426-9c0d0fe0bc234ee7bd98e069d3befd72.tgz  asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service (+1 more)  SUCCESS

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>polar-fulcrum-358119=$(gcloud config get-value project)
'polar-fulcrum-358119' ã¯ã€å†…éƒ¨ã‚³ãƒãƒ³ãƒ‰ã¾ãŸã¯å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã€
æ“ä½œå¯èƒ½ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¾ãŸã¯ãƒãƒƒãƒ ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦èªè­˜ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>PROJECT_ID=$(gcloud config get-value project)
'PROJECT_ID' ã¯ã€å†…éƒ¨ã‚³ãƒãƒ³ãƒ‰ã¾ãŸã¯å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã€
æ“ä½œå¯èƒ½ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¾ãŸã¯ãƒãƒƒãƒ ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦èªè­˜ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud run deploy my-service --image asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service:latest --region asia-northeast1 --no-allow-unauthenticated
Deploying container to Cloud Run service [my-service] in project [polar-fulcrum-358119] region [asia-northeast1]
X Deploying...
  - Creating Revision...
  . Routing traffic...
  âœ“ Setting IAM Policy...
Deployment failed
ERROR: (gcloud.run.deploy) Revision 'my-service-00002-744' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=polar-fulcrum-358119&resource=cloud_run_revision/service_name/my-service/revision_name/my-service-00002-744&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22my-service%22%0Aresource.labels.revision_name%3D%22my-service-00002-744%22
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud builds submit --tag asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service
Creating temporary archive of 3 file(s) totalling 3.8 KiB before compression.
Uploading tarball of [.] to [gs://polar-fulcrum-358119_cloudbuild/source/1755628338.903616-a9e07fae8e0c410ea2d901de605c47c5.tgz]
Created [https://cloudbuild.googleapis.com/v1/projects/polar-fulcrum-358119/locations/global/builds/e4397e97-9524-4532-88c0-5bc627a1f7ee].
Logs are available at [ https://console.cloud.google.com/cloud-build/builds/e4397e97-9524-4532-88c0-5bc627a1f7ee?project=556105548619 ].
Waiting for build to complete. Polling interval: 1 second(s).
------------------------------------------------------------------------------------ REMOTE BUILD OUTPUT ------------------------------------------------------------------------------------starting build "e4397e97-9524-4532-88c0-5bc627a1f7ee"

FETCHSOURCE
Fetching storage object: gs://polar-fulcrum-358119_cloudbuild/source/1755628338.903616-a9e07fae8e0c410ea2d901de605c47c5.tgz#1755628339788741
Copying gs://polar-fulcrum-358119_cloudbuild/source/1755628338.903616-a9e07fae8e0c410ea2d901de605c47c5.tgz#1755628339788741...
/ [1 files][  1.9 KiB/  1.9 KiB]
Operation completed over 1 objects/1.9 KiB.
BUILD
Already have image (with digest): gcr.io/cloud-builders/docker
Sending build context to Docker daemon  7.168kB
Step 1/8 : FROM mcr.microsoft.com/playwright/python:v1.48.0-jammy
v1.48.0-jammy: Pulling from playwright/python
7478e0ac0f23: Pulling fs layer
c148946d8475: Pulling fs layer
95e2718619a9: Pulling fs layer
bab4df8c200f: Pulling fs layer
bab4df8c200f: Waiting
7478e0ac0f23: Download complete
c148946d8475: Verifying Checksum
c148946d8475: Download complete
95e2718619a9: Verifying Checksum
95e2718619a9: Download complete
7478e0ac0f23: Pull complete
c148946d8475: Pull complete
95e2718619a9: Pull complete
bab4df8c200f: Verifying Checksum
bab4df8c200f: Download complete
bab4df8c200f: Pull complete
Digest: sha256:6bbd515848db4042068571135979b6ee6d330a794b28e037e3a6ccd7f2abfa26
Status: Downloaded newer image for mcr.microsoft.com/playwright/python:v1.48.0-jammy
 ---> db0a68342e4c
Step 2/8 : WORKDIR /app
 ---> Running in 9b693f0fd837
Removing intermediate container 9b693f0fd837
 ---> eaf39414686f
Step 3/8 : COPY requirements.txt .
 ---> 8cf5ca788917
Step 4/8 : RUN pip install --no-cache-dir -r requirements.txt
 ---> Running in a249b2713299
Collecting flask (from -r requirements.txt (line 1))
  Downloading flask-3.1.1-py3-none-any.whl.metadata (3.0 kB)
Collecting google-cloud-storage (from -r requirements.txt (line 2))
  Downloading google_cloud_storage-3.3.0-py3-none-any.whl.metadata (13 kB)
Collecting pandas (from -r requirements.txt (line 3))
  Downloading pandas-2.3.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (91 kB)
Collecting blinker>=1.9.0 (from flask->-r requirements.txt (line 1))
  Downloading blinker-1.9.0-py3-none-any.whl.metadata (1.6 kB)
Collecting click>=8.1.3 (from flask->-r requirements.txt (line 1))
  Downloading click-8.2.1-py3-none-any.whl.metadata (2.5 kB)
Collecting itsdangerous>=2.2.0 (from flask->-r requirements.txt (line 1))
  Downloading itsdangerous-2.2.0-py3-none-any.whl.metadata (1.9 kB)
Collecting jinja2>=3.1.2 (from flask->-r requirements.txt (line 1))
  Downloading jinja2-3.1.6-py3-none-any.whl.metadata (2.9 kB)
Collecting markupsafe>=2.1.1 (from flask->-r requirements.txt (line 1))
  Downloading MarkupSafe-3.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.0 kB)
Collecting werkzeug>=3.1.0 (from flask->-r requirements.txt (line 1))
  Downloading werkzeug-3.1.3-py3-none-any.whl.metadata (3.7 kB)
Collecting google-auth<3.0.0,>=2.26.1 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_auth-2.40.3-py2.py3-none-any.whl.metadata (6.2 kB)
Collecting google-api-core<3.0.0,>=2.15.0 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_api_core-2.25.1-py3-none-any.whl.metadata (3.0 kB)
Collecting google-cloud-core<3.0.0,>=2.4.2 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_cloud_core-2.4.3-py2.py3-none-any.whl.metadata (2.7 kB)
Collecting google-resumable-media<3.0.0,>=2.7.2 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_resumable_media-2.7.2-py2.py3-none-any.whl.metadata (2.2 kB)
Collecting requests<3.0.0,>=2.22.0 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading requests-2.32.5-py3-none-any.whl.metadata (4.9 kB)
Collecting google-crc32c<2.0.0,>=1.1.3 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_crc32c-1.7.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.3 kB)
Collecting numpy>=1.22.4 (from pandas->-r requirements.txt (line 3))
  Downloading numpy-2.2.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (62 kB)
Collecting python-dateutil>=2.8.2 (from pandas->-r requirements.txt (line 3))
  Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
Collecting pytz>=2020.1 (from pandas->-r requirements.txt (line 3))
  Downloading pytz-2025.2-py2.py3-none-any.whl.metadata (22 kB)
Collecting tzdata>=2022.7 (from pandas->-r requirements.txt (line 3))
  Downloading tzdata-2025.2-py2.py3-none-any.whl.metadata (1.4 kB)
Collecting googleapis-common-protos<2.0.0,>=1.56.2 (from google-api-core<3.0.0,>=2.15.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading googleapis_common_protos-1.70.0-py3-none-any.whl.metadata (9.3 kB)
Collecting protobuf!=3.20.0,!=3.20.1,!=4.21.0,!=4.21.1,!=4.21.2,!=4.21.3,!=4.21.4,!=4.21.5,<7.0.0,>=3.19.5 (from google-api-core<3.0.0,>=2.15.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading protobuf-6.32.0-cp39-abi3-manylinux2014_x86_64.whl.metadata (593 bytes)
Collecting proto-plus<2.0.0,>=1.22.3 (from google-api-core<3.0.0,>=2.15.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading proto_plus-1.26.1-py3-none-any.whl.metadata (2.2 kB)
Collecting cachetools<6.0,>=2.0.0 (from google-auth<3.0.0,>=2.26.1->google-cloud-storage->-r requirements.txt (line 2))
  Downloading cachetools-5.5.2-py3-none-any.whl.metadata (5.4 kB)
Collecting pyasn1-modules>=0.2.1 (from google-auth<3.0.0,>=2.26.1->google-cloud-storage->-r requirements.txt (line 2))
  Downloading pyasn1_modules-0.4.2-py3-none-any.whl.metadata (3.5 kB)
Collecting rsa<5,>=3.1.4 (from google-auth<3.0.0,>=2.26.1->google-cloud-storage->-r requirements.txt (line 2))
  Downloading rsa-4.9.1-py3-none-any.whl.metadata (5.6 kB)
Collecting six>=1.5 (from python-dateutil>=2.8.2->pandas->-r requirements.txt (line 3))
  Downloading six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
Collecting charset_normalizer<4,>=2 (from requests<3.0.0,>=2.22.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading charset_normalizer-3.4.3-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (36 kB)
Collecting idna<4,>=2.5 (from requests<3.0.0,>=2.22.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading idna-3.10-py3-none-any.whl.metadata (10 kB)
Collecting urllib3<3,>=1.21.1 (from requests<3.0.0,>=2.22.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
Collecting certifi>=2017.4.17 (from requests<3.0.0,>=2.22.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading certifi-2025.8.3-py3-none-any.whl.metadata (2.4 kB)
Collecting pyasn1<0.7.0,>=0.6.1 (from pyasn1-modules>=0.2.1->google-auth<3.0.0,>=2.26.1->google-cloud-storage->-r requirements.txt (line 2))
  Downloading pyasn1-0.6.1-py3-none-any.whl.metadata (8.4 kB)
Downloading flask-3.1.1-py3-none-any.whl (103 kB)
Downloading google_cloud_storage-3.3.0-py3-none-any.whl (274 kB)
Downloading pandas-2.3.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 12.3/12.3 MB 179.2 MB/s eta 0:00:00
Downloading blinker-1.9.0-py3-none-any.whl (8.5 kB)
Downloading click-8.2.1-py3-none-any.whl (102 kB)
Downloading google_api_core-2.25.1-py3-none-any.whl (160 kB)
Downloading google_auth-2.40.3-py2.py3-none-any.whl (216 kB)
Downloading google_cloud_core-2.4.3-py2.py3-none-any.whl (29 kB)
Downloading google_crc32c-1.7.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (38 kB)
Downloading google_resumable_media-2.7.2-py2.py3-none-any.whl (81 kB)
Downloading itsdangerous-2.2.0-py3-none-any.whl (16 kB)
Downloading jinja2-3.1.6-py3-none-any.whl (134 kB)
Downloading MarkupSafe-3.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (20 kB)
Downloading numpy-2.2.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (16.8 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 16.8/16.8 MB 188.9 MB/s eta 0:00:00
Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
Downloading pytz-2025.2-py2.py3-none-any.whl (509 kB)
Downloading requests-2.32.5-py3-none-any.whl (64 kB)
Downloading tzdata-2025.2-py2.py3-none-any.whl (347 kB)
Downloading werkzeug-3.1.3-py3-none-any.whl (224 kB)
Downloading cachetools-5.5.2-py3-none-any.whl (10 kB)
Downloading certifi-2025.8.3-py3-none-any.whl (161 kB)
Downloading charset_normalizer-3.4.3-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (152 kB)
Downloading googleapis_common_protos-1.70.0-py3-none-any.whl (294 kB)
Downloading idna-3.10-py3-none-any.whl (70 kB)
Downloading proto_plus-1.26.1-py3-none-any.whl (50 kB)
Downloading protobuf-6.32.0-cp39-abi3-manylinux2014_x86_64.whl (322 kB)
Downloading pyasn1_modules-0.4.2-py3-none-any.whl (181 kB)
Downloading rsa-4.9.1-py3-none-any.whl (34 kB)
Downloading six-1.17.0-py2.py3-none-any.whl (11 kB)
Downloading urllib3-2.5.0-py3-none-any.whl (129 kB)
Downloading pyasn1-0.6.1-py3-none-any.whl (83 kB)
Installing collected packages: pytz, urllib3, tzdata, six, pyasn1, protobuf, numpy, markupsafe, itsdangerous, idna, google-crc32c, click, charset_normalizer, certifi, cachetools, blinker, werkzeug, rsa, requests, python-dateutil, pyasn1-modules, proto-plus, jinja2, googleapis-common-protos, google-resumable-media, pandas, google-auth, flask, google-api-core, google-cloud-core, google-cloud-storage
Successfully installed blinker-1.9.0 cachetools-5.5.2 certifi-2025.8.3 charset_normalizer-3.4.3 click-8.2.1 flask-3.1.1 google-api-core-2.25.1 google-auth-2.40.3 google-cloud-core-2.4.3 google-cloud-storage-3.3.0 google-crc32c-1.7.1 google-resumable-media-2.7.2 googleapis-common-protos-1.70.0 idna-3.10 itsdangerous-2.2.0 jinja2-3.1.6 markupsafe-3.0.2 numpy-2.2.6 pandas-2.3.1 proto-plus-1.26.1 protobuf-6.32.0 pyasn1-0.6.1 pyasn1-modules-0.4.2 python-dateutil-2.9.0.post0 pytz-2025.2 requests-2.32.5 rsa-4.9.1 six-1.17.0 tzdata-2025.2 urllib3-2.5.0 werkzeug-3.1.3
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 24.2 -> 25.2
[notice] To update, run: python -m pip install --upgrade pip
Removing intermediate container a249b2713299
 ---> b6f16bdf3e86
Step 5/8 : COPY . .
 ---> 6bcf5fd41bc1
Step 6/8 : ENV PORT 8080
 ---> Running in b07c1f5b55ed
Removing intermediate container b07c1f5b55ed
 ---> aa6e1ff3f39f
Step 7/8 : ENV PLAYWRIGHT_BROWSERS_PATH=/ms-playwright
 ---> Running in e986f39e309a
Removing intermediate container e986f39e309a
 ---> d7c267fbe022
Step 8/8 : CMD ["python", "getDevAndPop.py"]
 ---> Running in 620d4ff91617
Removing intermediate container 620d4ff91617
 ---> b7b3745e12e7
Successfully built b7b3745e12e7
Successfully tagged asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service:latest
PUSH
Pushing asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service
The push refers to repository [asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service]
60c07f74ef7d: Preparing
bf0fd5664120: Preparing
a15baff0fb51: Preparing
ed1a40d959e6: Preparing
30e0de998e9a: Preparing
f1c1c5b75325: Preparing
b97cc8a023b9: Preparing
2573e0d81582: Preparing
f1c1c5b75325: Waiting
b97cc8a023b9: Waiting
2573e0d81582: Waiting
30e0de998e9a: Layer already exists
f1c1c5b75325: Layer already exists
b97cc8a023b9: Layer already exists
2573e0d81582: Layer already exists
ed1a40d959e6: Pushed
a15baff0fb51: Pushed
60c07f74ef7d: Pushed
bf0fd5664120: Pushed
latest: digest: sha256:29e14c28c0a16c9f56017fcfba488fe199832c7ad3d6a8fe4bc08ec7a2664e92 size: 2000
DONE
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ID                                    CREATE_TIME                DURATION  SOURCE                                                                                              IMAGES                                                                                   STATUS
e4397e97-9524-4532-88c0-5bc627a1f7ee  2025-08-19T18:32:21+00:00  1M12S     gs://polar-fulcrum-358119_cloudbuild/source/1755628338.903616-a9e07fae8e0c410ea2d901de605c47c5.tgz  asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service (+1 more)  SUCCESS

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud run deploy my-service --image asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service:latest --region asia-northeast1 --no-allow-unauthenticated
Deploying container to Cloud Run service [my-service] in project [polar-fulcrum-358119] region [asia-northeast1]
X Deploying new service...
  - Creating Revision...
  . Routing traffic...
Deployment failed
ERROR: (gcloud.run.deploy) Revision 'my-service-00001-gvh' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=polar-fulcrum-358119&resource=cloud_run_revision/service_name/my-service/revision_name/my-service-00001-gvh&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22my-service%22%0Aresource.labels.revision_name%3D%22my-service-00001-gvh%22
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud builds submit --tag asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service
Creating temporary archive of 3 file(s) totalling 3.9 KiB before compression.
Uploading tarball of [.] to [gs://polar-fulcrum-358119_cloudbuild/source/1755628806.684886-b3ff7af6d4ef44a4864630501d39b3cb.tgz]
Created [https://cloudbuild.googleapis.com/v1/projects/polar-fulcrum-358119/locations/global/builds/a7d60e2c-9235-4cd9-9e9b-a0ab7ec57417].
Logs are available at [ https://console.cloud.google.com/cloud-build/builds/a7d60e2c-9235-4cd9-9e9b-a0ab7ec57417?project=556105548619 ].
Waiting for build to complete. Polling interval: 1 second(s).
------------------------------------------------------------------------------------ REMOTE BUILD OUTPUT ------------------------------------------------------------------------------------starting build "a7d60e2c-9235-4cd9-9e9b-a0ab7ec57417"

FETCHSOURCE
Fetching storage object: gs://polar-fulcrum-358119_cloudbuild/source/1755628806.684886-b3ff7af6d4ef44a4864630501d39b3cb.tgz#1755628807574225
Copying gs://polar-fulcrum-358119_cloudbuild/source/1755628806.684886-b3ff7af6d4ef44a4864630501d39b3cb.tgz#1755628807574225...
/ [1 files][  1.9 KiB/  1.9 KiB]
Operation completed over 1 objects/1.9 KiB.
BUILD
Already have image (with digest): gcr.io/cloud-builders/docker
Sending build context to Docker daemon  7.168kB
Step 1/9 : FROM mcr.microsoft.com/playwright/python:v1.48.0-jammy
v1.48.0-jammy: Pulling from playwright/python
7478e0ac0f23: Pulling fs layer
c148946d8475: Pulling fs layer
95e2718619a9: Pulling fs layer
bab4df8c200f: Pulling fs layer
bab4df8c200f: Waiting
7478e0ac0f23: Verifying Checksum
7478e0ac0f23: Download complete
c148946d8475: Verifying Checksum
c148946d8475: Download complete
95e2718619a9: Verifying Checksum
95e2718619a9: Download complete
7478e0ac0f23: Pull complete
c148946d8475: Pull complete
95e2718619a9: Pull complete
bab4df8c200f: Verifying Checksum
bab4df8c200f: Download complete
bab4df8c200f: Pull complete
Digest: sha256:6bbd515848db4042068571135979b6ee6d330a794b28e037e3a6ccd7f2abfa26
Status: Downloaded newer image for mcr.microsoft.com/playwright/python:v1.48.0-jammy
 ---> db0a68342e4c
Step 2/9 : WORKDIR /app
 ---> Running in 0d3e35be27c5
Removing intermediate container 0d3e35be27c5
 ---> 805b9a23d097
Step 3/9 : COPY requirements.txt .
 ---> 4ca910494493
Step 4/9 : RUN pip install --no-cache-dir -r requirements.txt
 ---> Running in 0e19056cd7e5
Collecting flask (from -r requirements.txt (line 1))
  Downloading flask-3.1.1-py3-none-any.whl.metadata (3.0 kB)
Collecting google-cloud-storage (from -r requirements.txt (line 2))
  Downloading google_cloud_storage-3.3.0-py3-none-any.whl.metadata (13 kB)
Collecting pandas (from -r requirements.txt (line 3))
  Downloading pandas-2.3.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (91 kB)
Collecting playwright (from -r requirements.txt (line 4))
  Downloading playwright-1.54.0-py3-none-manylinux1_x86_64.whl.metadata (3.5 kB)
Collecting blinker>=1.9.0 (from flask->-r requirements.txt (line 1))
  Downloading blinker-1.9.0-py3-none-any.whl.metadata (1.6 kB)
Collecting click>=8.1.3 (from flask->-r requirements.txt (line 1))
  Downloading click-8.2.1-py3-none-any.whl.metadata (2.5 kB)
Collecting itsdangerous>=2.2.0 (from flask->-r requirements.txt (line 1))
  Downloading itsdangerous-2.2.0-py3-none-any.whl.metadata (1.9 kB)
Collecting jinja2>=3.1.2 (from flask->-r requirements.txt (line 1))
  Downloading jinja2-3.1.6-py3-none-any.whl.metadata (2.9 kB)
Collecting markupsafe>=2.1.1 (from flask->-r requirements.txt (line 1))
  Downloading MarkupSafe-3.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.0 kB)
Collecting werkzeug>=3.1.0 (from flask->-r requirements.txt (line 1))
  Downloading werkzeug-3.1.3-py3-none-any.whl.metadata (3.7 kB)
Collecting google-auth<3.0.0,>=2.26.1 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_auth-2.40.3-py2.py3-none-any.whl.metadata (6.2 kB)
Collecting google-api-core<3.0.0,>=2.15.0 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_api_core-2.25.1-py3-none-any.whl.metadata (3.0 kB)
Collecting google-cloud-core<3.0.0,>=2.4.2 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_cloud_core-2.4.3-py2.py3-none-any.whl.metadata (2.7 kB)
Collecting google-resumable-media<3.0.0,>=2.7.2 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_resumable_media-2.7.2-py2.py3-none-any.whl.metadata (2.2 kB)
Collecting requests<3.0.0,>=2.22.0 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading requests-2.32.5-py3-none-any.whl.metadata (4.9 kB)
Collecting google-crc32c<2.0.0,>=1.1.3 (from google-cloud-storage->-r requirements.txt (line 2))
  Downloading google_crc32c-1.7.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.3 kB)
Collecting numpy>=1.22.4 (from pandas->-r requirements.txt (line 3))
  Downloading numpy-2.2.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (62 kB)
Collecting python-dateutil>=2.8.2 (from pandas->-r requirements.txt (line 3))
  Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
Collecting pytz>=2020.1 (from pandas->-r requirements.txt (line 3))
  Downloading pytz-2025.2-py2.py3-none-any.whl.metadata (22 kB)
Collecting tzdata>=2022.7 (from pandas->-r requirements.txt (line 3))
  Downloading tzdata-2025.2-py2.py3-none-any.whl.metadata (1.4 kB)
Collecting pyee<14,>=13 (from playwright->-r requirements.txt (line 4))
  Downloading pyee-13.0.0-py3-none-any.whl.metadata (2.9 kB)
Collecting greenlet<4.0.0,>=3.1.1 (from playwright->-r requirements.txt (line 4))
  Downloading greenlet-3.2.4-cp310-cp310-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl.metadata (4.1 kB)
Collecting googleapis-common-protos<2.0.0,>=1.56.2 (from google-api-core<3.0.0,>=2.15.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading googleapis_common_protos-1.70.0-py3-none-any.whl.metadata (9.3 kB)
Collecting protobuf!=3.20.0,!=3.20.1,!=4.21.0,!=4.21.1,!=4.21.2,!=4.21.3,!=4.21.4,!=4.21.5,<7.0.0,>=3.19.5 (from google-api-core<3.0.0,>=2.15.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading protobuf-6.32.0-cp39-abi3-manylinux2014_x86_64.whl.metadata (593 bytes)
Collecting proto-plus<2.0.0,>=1.22.3 (from google-api-core<3.0.0,>=2.15.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading proto_plus-1.26.1-py3-none-any.whl.metadata (2.2 kB)
Collecting cachetools<6.0,>=2.0.0 (from google-auth<3.0.0,>=2.26.1->google-cloud-storage->-r requirements.txt (line 2))
  Downloading cachetools-5.5.2-py3-none-any.whl.metadata (5.4 kB)
Collecting pyasn1-modules>=0.2.1 (from google-auth<3.0.0,>=2.26.1->google-cloud-storage->-r requirements.txt (line 2))
  Downloading pyasn1_modules-0.4.2-py3-none-any.whl.metadata (3.5 kB)
Collecting rsa<5,>=3.1.4 (from google-auth<3.0.0,>=2.26.1->google-cloud-storage->-r requirements.txt (line 2))
  Downloading rsa-4.9.1-py3-none-any.whl.metadata (5.6 kB)
Collecting typing-extensions (from pyee<14,>=13->playwright->-r requirements.txt (line 4))
  Downloading typing_extensions-4.14.1-py3-none-any.whl.metadata (3.0 kB)
Collecting six>=1.5 (from python-dateutil>=2.8.2->pandas->-r requirements.txt (line 3))
  Downloading six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
Collecting charset_normalizer<4,>=2 (from requests<3.0.0,>=2.22.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading charset_normalizer-3.4.3-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (36 kB)
Collecting idna<4,>=2.5 (from requests<3.0.0,>=2.22.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading idna-3.10-py3-none-any.whl.metadata (10 kB)
Collecting urllib3<3,>=1.21.1 (from requests<3.0.0,>=2.22.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
Collecting certifi>=2017.4.17 (from requests<3.0.0,>=2.22.0->google-cloud-storage->-r requirements.txt (line 2))
  Downloading certifi-2025.8.3-py3-none-any.whl.metadata (2.4 kB)
Collecting pyasn1<0.7.0,>=0.6.1 (from pyasn1-modules>=0.2.1->google-auth<3.0.0,>=2.26.1->google-cloud-storage->-r requirements.txt (line 2))
  Downloading pyasn1-0.6.1-py3-none-any.whl.metadata (8.4 kB)
Downloading flask-3.1.1-py3-none-any.whl (103 kB)
Downloading google_cloud_storage-3.3.0-py3-none-any.whl (274 kB)
Downloading pandas-2.3.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 12.3/12.3 MB 286.1 MB/s eta 0:00:00
Downloading playwright-1.54.0-py3-none-manylinux1_x86_64.whl (45.9 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 45.9/45.9 MB 334.2 MB/s eta 0:00:00
Downloading blinker-1.9.0-py3-none-any.whl (8.5 kB)
Downloading click-8.2.1-py3-none-any.whl (102 kB)
Downloading google_api_core-2.25.1-py3-none-any.whl (160 kB)
Downloading google_auth-2.40.3-py2.py3-none-any.whl (216 kB)
Downloading google_cloud_core-2.4.3-py2.py3-none-any.whl (29 kB)
Downloading google_crc32c-1.7.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (38 kB)
Downloading google_resumable_media-2.7.2-py2.py3-none-any.whl (81 kB)
Downloading greenlet-3.2.4-cp310-cp310-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl (584 kB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 584.4/584.4 kB 430.1 MB/s eta 0:00:00
Downloading itsdangerous-2.2.0-py3-none-any.whl (16 kB)
Downloading jinja2-3.1.6-py3-none-any.whl (134 kB)
Downloading MarkupSafe-3.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (20 kB)
Downloading numpy-2.2.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (16.8 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 16.8/16.8 MB 341.7 MB/s eta 0:00:00
Downloading pyee-13.0.0-py3-none-any.whl (15 kB)
Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
Downloading pytz-2025.2-py2.py3-none-any.whl (509 kB)
Downloading requests-2.32.5-py3-none-any.whl (64 kB)
Downloading tzdata-2025.2-py2.py3-none-any.whl (347 kB)
Downloading werkzeug-3.1.3-py3-none-any.whl (224 kB)
Downloading cachetools-5.5.2-py3-none-any.whl (10 kB)
Downloading certifi-2025.8.3-py3-none-any.whl (161 kB)
Downloading charset_normalizer-3.4.3-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (152 kB)
Downloading googleapis_common_protos-1.70.0-py3-none-any.whl (294 kB)
Downloading idna-3.10-py3-none-any.whl (70 kB)
Downloading proto_plus-1.26.1-py3-none-any.whl (50 kB)
Downloading protobuf-6.32.0-cp39-abi3-manylinux2014_x86_64.whl (322 kB)
Downloading pyasn1_modules-0.4.2-py3-none-any.whl (181 kB)
Downloading rsa-4.9.1-py3-none-any.whl (34 kB)
Downloading six-1.17.0-py2.py3-none-any.whl (11 kB)
Downloading urllib3-2.5.0-py3-none-any.whl (129 kB)
Downloading typing_extensions-4.14.1-py3-none-any.whl (43 kB)
Downloading pyasn1-0.6.1-py3-none-any.whl (83 kB)
Installing collected packages: pytz, urllib3, tzdata, typing-extensions, six, pyasn1, protobuf, numpy, markupsafe, itsdangerous, idna, greenlet, google-crc32c, click, charset_normalizer, certifi, cachetools, blinker, werkzeug, rsa, requests, python-dateutil, pyee, pyasn1-modules, proto-plus, jinja2, googleapis-common-protos, google-resumable-media, playwright, pandas, google-auth, flask, google-api-core, google-cloud-core, google-cloud-storage
Successfully installed blinker-1.9.0 cachetools-5.5.2 certifi-2025.8.3 charset_normalizer-3.4.3 click-8.2.1 flask-3.1.1 google-api-core-2.25.1 google-auth-2.40.3 google-cloud-core-2.4.3 google-cloud-storage-3.3.0 google-crc32c-1.7.1 google-resumable-media-2.7.2 googleapis-common-protos-1.70.0 greenlet-3.2.4 idna-3.10 itsdangerous-2.2.0 jinja2-3.1.6 markupsafe-3.0.2 numpy-2.2.6 pandas-2.3.1 playwright-1.54.0 proto-plus-1.26.1 protobuf-6.32.0 pyasn1-0.6.1 pyasn1-modules-0.4.2 pyee-13.0.0 python-dateutil-2.9.0.post0 pytz-2025.2 requests-2.32.5 rsa-4.9.1 six-1.17.0 typing-extensions-4.14.1 tzdata-2025.2 urllib3-2.5.0 werkzeug-3.1.3
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.

[notice] A new release of pip is available: 24.2 -> 25.2
[notice] To update, run: python -m pip install --upgrade pip
Removing intermediate container 0e19056cd7e5
 ---> ab4bd75584ef
Step 5/9 : RUN playwright install
 ---> Running in 7058286bd6f7
Removing unused browser at /ms-playwright/chromium-1140
Removing unused browser at /ms-playwright/ffmpeg-1010
Removing unused browser at /ms-playwright/firefox-1465
Removing unused browser at /ms-playwright/webkit-2083
Downloading Chromium 139.0.7258.5 (playwright build v1181) from https://cdn.playwright.dev/dbazure/download/playwright/builds/chromium/1181/chromium-linux.zip
|                                                                                |   0% of 172.5 MiB
|â– â– â– â– â– â– â– â–                                                                         |  10% of 172.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                                 |  20% of 172.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                         |  30% of 172.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                 |  40% of 172.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                         |  50% of 172.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                 |  60% of 172.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                         |  70% of 172.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â–                 |  80% of 172.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â–         |  90% of 172.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– | 100% of 172.5 MiB
Chromium 139.0.7258.5 (playwright build v1181) downloaded to /ms-playwright/chromium-1181
Downloading Chromium Headless Shell 139.0.7258.5 (playwright build v1181) from https://cdn.playwright.dev/dbazure/download/playwright/builds/chromium/1181/chromium-headless-shell-linux.zip
|                                                                                |   0% of 104.8 MiB
|â– â– â– â– â– â– â– â–                                                                         |  10% of 104.8 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                                 |  20% of 104.8 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                         |  30% of 104.8 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                 |  40% of 104.8 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                         |  50% of 104.8 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                 |  60% of 104.8 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                         |  70% of 104.8 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â–                 |  80% of 104.8 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â–         |  90% of 104.8 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– | 100% of 104.8 MiB
Chromium Headless Shell 139.0.7258.5 (playwright build v1181) downloaded to /ms-playwright/chromium_headless_shell-1181
Downloading Firefox 140.0.2 (playwright build v1489) from https://cdn.playwright.dev/dbazure/download/playwright/builds/firefox/1489/firefox-ubuntu-22.04.zip
|                                                                                |   0% of 92.5 MiB
|â– â– â– â– â– â– â– â–                                                                         |  10% of 92.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                                 |  20% of 92.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                         |  30% of 92.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                 |  40% of 92.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                         |  50% of 92.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                 |  60% of 92.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                         |  70% of 92.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â–                 |  80% of 92.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â–         |  90% of 92.5 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– | 100% of 92.5 MiB
Firefox 140.0.2 (playwright build v1489) downloaded to /ms-playwright/firefox-1489
Downloading Webkit 26.0 (playwright build v2191) from https://cdn.playwright.dev/dbazure/download/playwright/builds/webkit/2191/webkit-ubuntu-22.04.zip
|                                                                                |   0% of 94.4 MiB
|â– â– â– â– â– â– â– â–                                                                         |  10% of 94.4 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                                 |  20% of 94.4 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                         |  30% of 94.4 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                 |  40% of 94.4 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                         |  50% of 94.4 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                 |  60% of 94.4 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                         |  70% of 94.4 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â–                 |  80% of 94.4 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â–         |  90% of 94.4 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– | 100% of 94.4 MiB
Webkit 26.0 (playwright build v2191) downloaded to /ms-playwright/webkit-2191
Downloading FFMPEG playwright build v1011 from https://cdn.playwright.dev/dbazure/download/playwright/builds/ffmpeg/1011/ffmpeg-linux.zip
|                                                                                |   0% of 2.3 MiB
|â– â– â– â– â– â– â– â–                                                                         |  10% of 2.3 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                                 |  20% of 2.3 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                         |  30% of 2.3 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                                 |  40% of 2.3 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                         |  50% of 2.3 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                                 |  60% of 2.3 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–                         |  70% of 2.3 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â–                 |  80% of 2.3 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â–         |  90% of 2.3 MiB
|â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– | 100% of 2.3 MiB
FFMPEG playwright build v1011 downloaded to /ms-playwright/ffmpeg-1011
Playwright Host validation warning:
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Host system is missing dependencies to run browsers.                                       â•‘
â•‘ This is most likely due to Docker image version not matching Playwright version:           â•‘
â•‘ - Playwright  : 1.54.1                                                                     â•‘
â•‘ - Docker image: 1.48.0                                                                     â•‘
â•‘                                                                                            â•‘
â•‘ Either:                                                                                    â•‘
â•‘ - (recommended) use Docker image "mcr.microsoft.com/playwright/python:v1.54.1-jammy"       â•‘
â•‘ - (alternative 1) run the following command inside Docker to install missing dependencies: â•‘
â•‘                                                                                            â•‘
â•‘     playwright install-deps                                                                â•‘
â•‘                                                                                            â•‘
â•‘ - (alternative 2) use apt inside Docker:                                                   â•‘
â•‘                                                                                            â•‘
â•‘     apt-get install libgtk-4-1\                                                            â•‘
â•‘         libavif13                                                                          â•‘
â•‘                                                                                            â•‘
â•‘ <3 Playwright Team                                                                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    at validateDependenciesLinux (/usr/local/lib/python3.10/dist-packages/playwright/driver/package/lib/server/registry/dependencies.js:269:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Registry._validateHostRequirements (/usr/local/lib/python3.10/dist-packages/playwright/driver/package/lib/server/registry/index.js:914:14)
    at async Registry._validateHostRequirementsForExecutableIfNeeded (/usr/local/lib/python3.10/dist-packages/playwright/driver/package/lib/server/registry/index.js:1036:7)
    at async Registry.validateHostRequirementsForExecutablesIfNeeded (/usr/local/lib/python3.10/dist-packages/playwright/driver/package/lib/server/registry/index.js:1025:7)
    at async i.<anonymous> (/usr/local/lib/python3.10/dist-packages/playwright/driver/package/lib/cli/program.js:222:7)
Removing intermediate container 7058286bd6f7
 ---> 36ed476a745d
Step 6/9 : COPY . .
 ---> 09c5fccd57bf
Step 7/9 : ENV PORT 8080
 ---> Running in 4c742dfeb845
Removing intermediate container 4c742dfeb845
 ---> 2c745d8e3689
Step 8/9 : ENV PLAYWRIGHT_BROWSERS_PATH=/ms-playwright
 ---> Running in 945f637e7b00
Removing intermediate container 945f637e7b00
 ---> 0fbcfe193073
Step 9/9 : CMD ["python", "getDevAndPop.py"]
 ---> Running in 3f3ce4fa4c36
Removing intermediate container 3f3ce4fa4c36
 ---> f20f6fe3e33a
Successfully built f20f6fe3e33a
Successfully tagged asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service:latest
PUSH
Pushing asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service
The push refers to repository [asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service]
9a3ae5225f32: Preparing
ab6902af1254: Preparing
500880c1c947: Preparing
1b340e26015f: Preparing
4b5d7b63628d: Preparing
30e0de998e9a: Preparing
f1c1c5b75325: Preparing
b97cc8a023b9: Preparing
2573e0d81582: Preparing
30e0de998e9a: Waiting
f1c1c5b75325: Waiting
b97cc8a023b9: Waiting
2573e0d81582: Waiting
4b5d7b63628d: Pushed
1b340e26015f: Pushed
9a3ae5225f32: Pushed
30e0de998e9a: Layer already exists
f1c1c5b75325: Layer already exists
b97cc8a023b9: Layer already exists
2573e0d81582: Layer already exists
500880c1c947: Pushed
ab6902af1254: Pushed
latest: digest: sha256:a44f0cd1c92059c508c1588c70b72e57166e66d9adae78feb01f1ddee74904ca size: 2213
DONE
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ID                                    CREATE_TIME                DURATION  SOURCE                                                                                              IMAGES                                                                                   STATUS
a7d60e2c-9235-4cd9-9e9b-a0ab7ec57417  2025-08-19T18:40:08+00:00  3M25S     gs://polar-fulcrum-358119_cloudbuild/source/1755628806.684886-b3ff7af6d4ef44a4864630501d39b3cb.tgz  asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service (+1 more)  SUCCESS

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>gcloud run deploy my-service --image asia-northeast1-docker.pkg.dev/polar-fulcrum-358119/my-docker-repo/my-service:latest --region asia-northeast1 --no-allow-unauthenticated
Deploying container to Cloud Run service [my-service] in project [polar-fulcrum-358119] region [asia-northeast1]
âœ“ Deploying new service... Done.
  âœ“ Creating Revision...
  âœ“ Routing traffic...
Done.
Service [my-service] revision [my-service-00001-fjl] has been deployed and is serving 100 percent of traffic.
Service URL: https://my-service-556105548619.asia-northeast1.run.app

C:\Users\ãƒ¦ãƒ¼ã‚¶ãƒ¼\OneDrive\Desktop\pythonForKeiba\å®šæœŸå®Ÿè¡Œè¡Œã\getDevAndPop(Dockerfile)>